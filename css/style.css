/* -----------------------------------------------------------
   OFF DAY COLLECTIVE | MASTER STYLESHEET (V2.0 GOLD)
----------------------------------------------------------- */

:root {
    --sage: #7D8E7E;
    --cream: #F9F7F2;
    --walnut: #3D2B1F;
    --charcoal: #1A1A1A;
    --gold: #E5C155;
    --gold-dim: #8a701f;
    --transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
}

/* --- RESET & GLOBAL --- */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    cursor: none; /* We use a custom cursor */
}

::selection {
    background: var(--gold);
    color: #000;
}

html {
    scroll-behavior: smooth;
    font-size: 16px;
}

/* Hide default scrollbar for a "floating" app feel */
::-webkit-scrollbar {
    width: 0px;
    background: transparent;
}

body {
    background-color: var(--cream);
    color: var(--charcoal);
    font-family: 'Inter', sans-serif;
    overflow-x: hidden;
    height: 100vh;
    overflow-y: hidden; /* Locked until loader finishes */
}

body.loaded {
    overflow-y: scroll;
    scroll-snap-type: y proximity;
}

/* ============================================
   SEO UTILITY: VISUALLY HIDDEN
   Hides text from sighted users while keeping
   it fully accessible to screen readers AND
   search engine crawlers.
   WCAG technique: CSS18 — using CSS to hide
   a portion of the link text.
   Do NOT use display:none or visibility:hidden
   as those hide content from Google too.
============================================ */
.seo-text {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}

/* -------------------
   CUSTOM CURSOR
---------------------- */
#cursor {
    position: fixed;
    top: 0; left: 0;
    width: 12px; height: 12px;
    border: 1px solid var(--charcoal);
    border-radius: 50%;
    transform: translate(-50%, -50%);
    pointer-events: none;
    z-index: 10000;
    transition: width 0.3s, height 0.3s, background-color 0.3s;
    mix-blend-mode: difference;
}

#cursor-blur {
    position: fixed;
    top: 0; left: 0;
    width: 40px; height: 40px;
    background: rgba(212, 175, 55, 0.2);
    filter: blur(20px);
    border-radius: 50%;
    transform: translate(-50%, -50%);
    pointer-events: none;
    z-index: 9999;
    transition: transform 0.1s;
}

body.hovering #cursor {
    width: 60px; height: 60px;
    background-color: rgba(255, 255, 255, 0.1);
    border-color: transparent;
}

/* -------------------
   LOADER & OVERLAYS 
---------------------- */
#loader {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background-color: #0a0a0a; color: var(--gold);
    z-index: 9999;
    display: flex; justify-content: center; align-items: center;
    transition: transform 1.2s cubic-bezier(0.76, 0, 0.24, 1);
}

body.loaded #loader {
    transform: translateY(-100%);
}

.logo-loader {
    font-family: 'Cormorant Garamond', serif;
    font-size: 3rem;
    margin-bottom: 20px;
    letter-spacing: 5px;
}

.loader-line-mask {
    width: 150px; height: 1px;
    background: rgba(255,255,255,0.1);
    overflow: hidden; position: relative;
}

.loader-line {
    width: 100%; height: 100%;
    background: var(--gold);
    transform: translateX(-100%);
    animation: loadLine 1.5s ease-in-out forwards;
}

@keyframes loadLine { to { transform: translateX(0); } }

.noise-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    pointer-events: none; z-index: 9000; opacity: 0.05;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
}

/* -------------------
   TYPOGRAPHY & NAV 
---------------------- */
h1, h2, h3 { font-family: 'Cormorant Garamond', serif; font-weight: 300; }
.italic { font-style: italic; }

.nav-overlay {
    position: fixed; top: 0; left: 0; width: 100%; padding: 40px;
    display: flex; justify-content: space-between; z-index: 100;
    pointer-events: none; color: white; mix-blend-mode: difference;
}

.logo {
    font-family: 'Cormorant Garamond', serif;
    font-size: 1.25rem; letter-spacing: 2px; text-transform: uppercase;
}

.status-indicator {
    font-size: 0.75rem; letter-spacing: 2px;
    display: flex; align-items: center; gap: 10px;
}

.pulse {
    width: 6px; height: 6px;
    background-color: white; border-radius: 50%;
    animation: pulse 2s infinite;
}

@keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }

/* -------------------
   SECTIONS & LAYOUT
---------------------- */
section {
    height: 100vh; width: 100%;
    display: flex; flex-direction: column;
    justify-content: center; align-items: center;
    position: relative;
    scroll-snap-align: start;
    overflow: hidden;
}

/* --- LAYER 1: HERO --- */
#intro { color: var(--cream); }

.hero-image-container {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    z-index: 0; overflow: hidden;
}

.hero-img {
    width: 100%; height: 120%;
    object-fit: cover;
}

.hero-overlay {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.4);
    z-index: 1;
}

.content-layer { z-index: 2; text-align: center; }

.headline-reveal {
    font-size: clamp(3rem, 7vw, 6rem);
    line-height: 1;
    min-height: 1.2em; /* Prevents layout shift during decoding */
    opacity: 0; /* Starts hidden, JS handles the fade in */
}
body.loaded .headline-reveal { opacity: 1; transform: translateY(0); }

.hero-subhead {
    font-size: 1.1rem; line-height: 1.6;
    opacity: 0; transform: translateY(20px);
    transition: opacity 1s ease 0.5s, transform 1s ease 0.5s;
}
body.loaded .hero-subhead { opacity: 1; transform: translateY(0); }

.section-label {
    font-size: 0.75rem; letter-spacing: 3px;
    text-transform: uppercase; color: var(--gold);
    margin-bottom: 20px;
}

/* -------------------
   LAYER 1.5: TRUST TICKER (WIDE SCREEN FIX)
---------------------- */
.trust-ticker {
    width: 100%;
    background: var(--charcoal);
    border-bottom: 1px solid rgba(255,255,255,0.1);
    overflow: hidden; /* Hides the infinite overflow */
    padding: 15px 0;
    display: flex; /* Aligns the track perfectly */
}

.ticker-track {
    display: flex;
    align-items: center;
    /* CRITICAL FIX: Forces track to be as wide as the text, ignoring screen width */
    width: max-content; 
    /* The Animation */
    animation: scrollTicker 60s linear infinite;
    will-change: transform; /* Performance booster */
}

/* Individual Items */
.ticker-item {
    font-family: 'Inter', sans-serif;
    font-size: 0.75rem;
    letter-spacing: 3px;
    text-transform: uppercase;
    color: var(--cream);
    white-space: nowrap; /* Prevents text wrapping */
    flex-shrink: 0; /* CRITICAL FIX: Prevents squashing on small screens */
    padding-right: 40px; /* Spacing between phrases */
    display: flex;
    align-items: center;
    gap: 40px; /* Spacing between text and dot */
}

.ticker-item .dot {
    color: var(--gold);
    font-size: 1.2rem; /* Slightly larger for visibility */
    line-height: 0;
}

/* The Loop Logic: Move -50% because we doubled the content sets */
@keyframes scrollTicker {
    0% { transform: translateX(0); }
    100% { transform: translateX(-50%); }
}

/* Mobile Ticker Adjustments */
@media (max-width: 768px) {
    .trust-ticker { padding: 12px 0; }
    .ticker-item { font-size: 0.6rem; padding-right: 30px; gap: 30px; }
}

/* --- LAYER 2: MANIFESTO --- */
.manifesto-section {
    background-color: #F2EFE9;
    display: flex; flex-direction: row;
    align-items: center; justify-content: center;
    gap: 80px; padding: 0 10%;
}

.manifesto-visual {
    width: 35%; height: 60vh;
    position: relative; z-index: 2;
}

.img-mask {
    width: 100%; height: 100%; overflow: hidden;
    box-shadow: 20px 20px 60px rgba(0,0,0,0.05);
}

.manifesto-visual img {
    width: 100%; height: 120%;
    object-fit: cover; filter: sepia(10%) contrast(90%);
}

.manifesto-content { width: 45%; position: relative; z-index: 3; }
.manifesto-content h2 { font-size: clamp(2rem, 3.5vw, 3.5rem); line-height: 1.1; margin-bottom: 30px; }
.divider-line { width: 60px; height: 1px; background-color: var(--gold); margin-bottom: 30px; }

.bg-text {
    position: absolute; font-family: 'Cormorant Garamond', serif;
    font-size: 18vw; color: rgba(0,0,0,0.04);
    text-transform: uppercase; white-space: nowrap;
    z-index: 0; pointer-events: none;
}

.highlight {
    color: var(--charcoal); font-weight: 500;
    letter-spacing: 1px; display: inline-block; margin-top: 5px;
}

/* THE LUXURY STAMP (Compass Design) */
.visual-stamp {
    position: absolute;
    bottom: -50px; right: -50px;
    width: 140px; height: 140px;
    /* Glassmorphism */
    background: rgba(249, 247, 242, 0.8);
    backdrop-filter: blur(5px);
    -webkit-backdrop-filter: blur(5px);
    border-radius: 50%;
    display: flex; justify-content: center; align-items: center;
    z-index: 4;
    border: 1px solid rgba(212, 175, 55, 0.3);
    box-shadow: 0 10px 40px rgba(0,0,0,0.15);
}

.stamp-ring {
    position: absolute; width: 100%; height: 100%;
    animation: spin 20s linear infinite;
}

.circle-text {
    font-family: 'Inter', sans-serif; font-size: 10px;
    letter-spacing: 2px; text-transform: uppercase;
    font-weight: 600; fill: var(--charcoal);
}

.stamp-center {
    position: absolute;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    display: flex; flex-direction: column;
    align-items: center; justify-content: center;
    z-index: 5;
    width: 60%; height: 60%;
    border-radius: 50%;
    border: 1px solid rgba(0,0,0,0.05);
}

.stamp-label {
    font-family: 'Inter', sans-serif; font-size: 0.5rem;
    letter-spacing: 1px; color: #999; margin-bottom: 2px;
}

.stamp-number {
    font-family: 'Cormorant Garamond', serif; font-size: 1.8rem;
    font-style: italic; color: var(--gold); line-height: 1;
}

@keyframes spin { 100% { transform: rotate(360deg); } }

/* Chapter Marker */
.chapter-marker {
    position: absolute; top: 15%; left: 5%;
    writing-mode: vertical-rl; text-orientation: mixed;
    font-size: 0.7rem; letter-spacing: 3px; color: #999;
    display: flex; align-items: center; gap: 20px; z-index: 10;
}
.chapter-marker .line { width: 1px; height: 40px; background-color: var(--gold); }

/* Bridge Link */
.text-link {
    display: inline-block; margin-top: 40px;
    font-family: 'Inter', sans-serif; font-size: 0.8rem;
    letter-spacing: 2px; text-transform: uppercase;
    color: var(--gold); text-decoration: none;
    border-bottom: 1px solid transparent; transition: 0.3s;
}
.text-link:hover { border-bottom: 1px solid var(--gold); padding-bottom: 5px; }
.arrow { display: inline-block; transition: transform 0.3s; }
.text-link:hover .arrow { transform: translateY(5px); }

/* -------------------
   LAYER 3: THE CHRONOLOGY (BENTO)
---------------------- */

.bento-section {
    height: auto;
    min-height: 100vh;
    padding: 100px 5%;
    background: var(--cream);
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.bento-header {
    margin-bottom: 40px;
    padding-left: 5px;
    opacity: 0.6;
}

.bento-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    grid-template-rows: repeat(2, 450px); /* Taller boxes for drama */
    gap: 20px;
    width: 100%;
    max-width: 1400px;
    margin: 0 auto;
}

.bento-item {
    position: relative;
    overflow: hidden;
    background: #000;
    /* Soft edges for luxury feel */
    border-radius: 2px;
}

/* The Image Engine */
.bento-img {
    width: 100%; height: 100%;
    transition: transform 1.2s cubic-bezier(0.16, 1, 0.3, 1);
}

.bento-item img {
    width: 100%; height: 100%;
    object-fit: cover;
    opacity: 0.9;
    filter: grayscale(20%); /* Subtle desaturation */
    transition: opacity 0.5s, filter 0.5s;
}

/* The "Curtain" Overlay */
.bento-overlay {
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
    opacity: 0.6;
    transition: opacity 0.5s;
}

/* Typography & Layout */

/* -------------------
   THE MECHANICAL TUMBLER (Spool Effect)
---------------------- */
.headline-reveal {
    /* Ensure the container doesn't clip the 3D rotation */
    perspective: 1000px; 
    overflow: hidden; /* Hide the letters "waiting" below */
    line-height: 1.1; /* Tighten up for impact */
    opacity: 1 !important; /* Force visible so we see the letters */
}

/* The Wrapper for each letter */
.char-wrapper {
    display: inline-block;
    position: relative;
    white-space: pre; /* Preserves spaces */
}

/* The actual letter animation */
.char {
    display: inline-block;
    opacity: 0;
    transform-origin: 50% 100%; /* Pivot from bottom */
    transform: translateY(100%) rotateX(-90deg); /* Start below and flat */
    filter: blur(5px); /* Motion blur */
    
    /* The Animation: "tumbler-up" */
    animation: tumbler-up 0.8s cubic-bezier(0.19, 1, 0.22, 1) forwards;
}

@keyframes tumbler-up {
    0% {
        opacity: 0;
        transform: translateY(100%) rotateX(-90deg);
        filter: blur(8px);
    }
    100% {
        opacity: 1;
        transform: translateY(0) rotateX(0deg);
        filter: blur(0);
    }
}

.bento-content {
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    padding: 30px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    z-index: 2;
    color: var(--cream);
}

.bento-top {
    display: flex;
    justify-content: space-between;
    font-family: 'Inter', sans-serif;
    font-size: 0.7rem;
    letter-spacing: 2px;
    text-transform: uppercase;
    opacity: 0.8;
}

.bento-text h3 {
    font-size: 2.5rem;
    font-weight: 300;
    margin-bottom: 10px;
    transform: translateY(0);
    transition: transform 0.6s ease;
}

.philosophy-text {
    font-family: 'Inter', sans-serif;
    font-size: 0.9rem;
    line-height: 1.6;
    color: rgba(255,255,255,0.7);
    max-width: 300px;
    
    /* Visible by default, hover enhances */
    opacity: 0.7;
    transform: translateY(0);
    transition: all 0.6s ease 0.1s;
}

/* HOVER STATES: The Magic */
.bento-item:hover .bento-img { transform: scale(1.05); }
.bento-item:hover img { filter: grayscale(0%); opacity: 0.6; }
.bento-item:hover .bento-overlay { opacity: 0.9; }

.bento-item:hover h3 { transform: translateY(-5px); }
.bento-item:hover .philosophy-text { opacity: 1; }

/* The System Box (Bottom Right) */
.system-box {
    background: var(--walnut);
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
}

.bento-border-inner {
    position: absolute;
    top: 10px; left: 10px; right: 10px; bottom: 10px;
    border: 1px solid rgba(212, 175, 55, 0.2);
}

.system-content {
    z-index: 2;
}

.system-label {
    font-family: 'Inter', sans-serif;
    font-size: 0.7rem;
    text-transform: uppercase;
    letter-spacing: 2px;
    margin-top: 10px;
    color: rgba(255,255,255,0.6);
}

/* Grid Logic */
.large { grid-column: span 2; grid-row: span 2; }
.tall { grid-column: span 1; grid-row: span 2; }
.wide { grid-column: span 1; grid-row: span 1; }
.small { grid-column: span 1; grid-row: span 1; }

/* Mobile Stack */
@media (max-width: 768px) {
    .bento-grid { 
        display: flex; 
        flex-direction: column; 
        height: auto; 
        gap: 10px; 
    }
    
    .bento-item { 
        height: 400px; 
        min-height: 400px; 
    }
    
    /* On mobile, show text always, don't wait for hover */
    .philosophy-text { opacity: 0.8; transform: translateY(0); }
    .bento-text h3 { transform: translateY(0); }
}
/* -------------------
   TABLET / LAPTOP OPTIMIZATION (The "Middle Child" Fix)
   Triggers when screen is smaller than 1200px but bigger than mobile
---------------------- */
@media (max-width: 1200px) {
    .bento-grid {
        /* Switch from 4 columns to 2 columns */
        grid-template-columns: repeat(2, 1fr);
        /* Remove fixed height so rows can adapt */
        grid-template-rows: auto;
        gap: 15px;
    }

    /* Re-map the grid items for a nice 2x2 layout */
    
    /* Clarity: Full width across top */
    .large { 
        grid-column: span 2; 
        height: 400px; 
    }

    /* Momentum: Left side */
    .tall { 
        grid-column: span 1; 
        grid-row: span 1; 
        height: 400px; 
    }

    /* Reflection: Right side */
    .wide { 
        grid-column: span 1; 
        grid-row: span 1; 
        height: 400px; 
    }

    /* System Box: Full width at bottom */
    .small { 
        grid-column: span 2; 
        grid-row: span 1; 
        height: 150px; 
    }
    
    /* Safety: Ensure text shrinks slightly if it's still tight */
    .bento-text h3 {
        font-size: 2rem; /* Down from 2.5rem */
    }
}

/* --- LAYER 4: ACCESS CARD --- */
.dark-bg { background-color: #050505; color: var(--cream); perspective: 1000px; }

/* -------------------
   COHORT STATUS BAR (Psychological Trigger)
---------------------- */
.cohort-container {
    margin-bottom: 30px;
    width: 100%;
}

.cohort-info {
    display: flex;
    justify-content: space-between;
    font-family: 'Inter', sans-serif;
    font-size: 0.7rem;
    letter-spacing: 2px;
    text-transform: uppercase;
    margin-bottom: 10px;
    opacity: 0.9;
}

.cohort-percent {
    font-weight: 600;
    /* Subtle pulse animation to make it feel "Live" */
    animation: pulseText 3s infinite;
}

.cohort-bar {
    width: 100%;
    height: 2px;
    background: rgba(255,255,255,0.1);
    position: relative;
    overflow: hidden;
}

.cohort-fill {
    height: 100%;
    background: var(--gold);
    width: 0%; /* Starts at 0, JS animates this */
    transition: width 2s cubic-bezier(0.22, 1, 0.36, 1);
    box-shadow: 0 0 10px var(--gold); /* Glowing tip */
}

@keyframes pulseText {
    0% { opacity: 1; }
    50% { opacity: 0.5; }
    100% { opacity: 1; }
}

/* -------------------
   THE LANTERN CARD (Interactive Spotlight)
---------------------- */
.access-card {
    /* Base Look */
    background-color: #111;
    width: 100%; max-width: 500px; padding: 60px 40px;
    border: 1px solid rgba(255,255,255,0.1);
    position: relative; overflow: hidden;
    text-align: center;
    transition: transform 0.2s ease-out; /* Smoother movement */
    
    /* This creates the "Grain" texture that the light will reveal */
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.15'/%3E%3C/svg%3E");
}

/* The "Glow" Layer */
.access-card::before {
    content: "";
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    
    /* The Magic Gradient: Follows --x and --y variables from JS */
    background: radial-gradient(
        800px circle at var(--x, 50%) var(--y, 50%), 
        rgba(212, 175, 55, 0.15), /* Center: Gold Glow */
        transparent 40%           /* Edge: Fade to black */
    );
    
    z-index: 0;
    pointer-events: none; /* Let clicks pass through to the form */
    opacity: 0; /* Hidden until hover */
    transition: opacity 0.5s ease;
}

/* Show glow on hover */
.access-card:hover::before {
    opacity: 1;
}

/* Ensure content sits ON TOP of the glow */
.card-header, .card-body, .card-footer {
    position: relative;
    z-index: 2;
}

.access-card:hover { transform: translateY(-5px) rotateX(2deg); }

.gold-text { color: var(--gold); }
.sm-caps {
    font-size: 0.6rem; letter-spacing: 3px;
    text-transform: uppercase; opacity: 0.8;
}

.card-header {
    display: flex; justify-content: space-between; margin-bottom: 40px;
    border-bottom: 1px solid rgba(212, 175, 55, 0.2); padding-bottom: 15px;
}

.card-title { font-size: 2.5rem; color: var(--cream); margin-bottom: 15px; }
.card-text { font-size: 0.95rem; color: #888; margin-bottom: 50px; font-weight: 300; }

.input-wrapper { position: relative; margin-bottom: 40px; text-align: left; }

.signature-form input {
    width: 100%; background: transparent; border: none;
    border-bottom: 1px solid #444; padding: 15px 0;
    color: var(--gold); font-family: 'Cormorant Garamond', serif;
    font-size: 1.5rem; font-style: italic; outline: none; transition: 0.3s;
}

.signature-form label {
    position: absolute; top: 15px; left: 0; color: #555;
    font-size: 0.9rem; text-transform: uppercase; letter-spacing: 1px;
    pointer-events: none; transition: 0.3s ease;
}

.signature-form input:focus ~ label, .signature-form input:not(:placeholder-shown) ~ label {
    top: -10px; font-size: 0.7rem; color: var(--gold);
}

.underline-gold {
    position: absolute; bottom: 0; left: 0; width: 0; height: 1px;
    background-color: var(--gold); transition: width 0.5s ease;
}
.signature-form input:focus ~ .underline-gold { width: 100%; }

.gold-btn {
    background: var(--gold); color: #000; border: none;
    padding: 18px 0; width: 100%; font-family: 'Inter', sans-serif;
    font-weight: 600; font-size: 0.8rem; letter-spacing: 2px;
    text-transform: uppercase; position: relative; overflow: hidden; transition: 0.3s;
}
.gold-btn:hover { background: #e5c155; box-shadow: 0 0 20px rgba(212, 175, 55, 0.3); }

.btn-shimmer {
    position: absolute; top: 0; left: -100%; width: 100%; height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
    animation: shimmer 3s infinite;
}
@keyframes shimmer { 100% { left: 100%; } }

.card-footer { margin-top: 40px; font-size: 0.7rem; color: #444; letter-spacing: 2px; }

/* Success */
.hidden { display: none; }
.success-content { text-align: center; animation: fadeIn 1s ease; }
.gold-circle {
    width: 60px; height: 60px; border: 1px solid var(--gold);
    border-radius: 50%; display: flex; justify-content: center;
    align-items: center; margin: 0 auto 20px; color: var(--gold); font-size: 1.5rem;
}

/* --- LAYER 5: MEGA FOOTER --- */
.mega-footer {
    height: 60vh; background-color: #080808; color: #333;
    display: flex; flex-direction: column; justify-content: center;
    align-items: center; scroll-snap-align: start; position: relative;
}

.footer-content { width: 100%; max-width: 1200px; padding: 0 40px; }
.footer-logo {
    font-family: 'Cormorant Garamond', serif; font-size: clamp(3rem, 10vw, 8rem);
    color: #222; text-align: center; margin-bottom: 60px; line-height: 1;
}

.footer-grid {
    display: flex; justify-content: space-between;
    border-top: 1px solid #222; padding-top: 40px;
}

.col h4 {
    font-family: 'Inter', sans-serif; font-size: 0.7rem;
    letter-spacing: 2px; text-transform: uppercase;
    color: #555; margin-bottom: 20px;
}
.col p { font-family: 'Inter', sans-serif; font-size: 0.9rem; color: #888; line-height: 1.6; }
.right-align { text-align: right; }

/* Progress Dots */
.progress-wrap {
    position: fixed; bottom: 40px; left: 50%;
    transform: translateX(-50%); display: flex; gap: 12px;
    z-index: 100; mix-blend-mode: difference;
}
.dot {
    width: 8px; height: 8px; border-radius: 50%;
    background: rgba(255,255,255,0.3); transition: 0.3s;
}
.dot.active { background: white; transform: scale(1.2); }

/* -------------------
   MOBILE OPTIMIZATION (UPDATED)
---------------------- */
@media (max-width: 768px) {
    /* 1. ENABLE GHOST CURSOR (Touch Follower) */
    #cursor, #cursor-blur { 
        display: block !important; 
        opacity: 0; /* Hidden by default */
        transition: opacity 0.2s ease;
    }

    /* Class added by JS on touch */
    body.touching #cursor, 
    body.touching #cursor-blur {
        opacity: 1;
    }

    /* Keep standard cursor but remove blue tap highlight */
    * { 
        cursor: auto; 
        -webkit-tap-highlight-color: transparent;
    }

    /* 2. Hero Section */
    .headline-reveal { font-size: 3.5rem; } /* Shrink huge text */
    .hero-subhead { font-size: 1rem; padding: 0 20px; }
    .bg-text { display: none; } /* Remove heavy background text on mobile */

    /* 3. Manifesto & Stamp Layout */
    .manifesto-section { 
        flex-direction: column; 
        padding: 80px 20px; 
        gap: 60px; /* More space between image and text */
        text-align: center;
    }
    
    .manifesto-visual { 
        width: 100%; 
        height: 50vh; /* Taller image on mobile for impact */
        order: 1; /* Ensure image comes first */
    }
    
    .manifesto-content { 
        width: 100%; 
        order: 2; 
    }

    /* 4. Stamp Adjustment */
    .visual-stamp {
        width: 100px; 
        height: 100px; 
        bottom: -50px; /* Push it lower so it overlaps the white section */
        right: 50%; /* Center it horizontally */
        transform: translateX(50%); /* Center alignment fix */
        background: rgba(249, 247, 242, 0.9); /* More opaque for readability */
    }
    
    /* Adjust internal stamp font sizes for the smaller circle */
    .circle-text { font-size: 11px; letter-spacing: 1px; } 
    .stamp-number { font-size: 1.4rem; }
    .stamp-label { font-size: 0.5rem; }

    /* 5. Bento Grid (Stacking) */
    .bento-grid { display: flex; flex-direction: column; height: auto; gap: 10px; }
    .bento-item { height: 350px; min-height: 350px; }
    
    /* 6. Footer & Ticker */
    .trust-ticker { font-size: 0.6rem; }
    .footer-grid { flex-direction: column; gap: 40px; text-align: center; }
    .right-align { text-align: center; }
    .footer-logo { font-size: 3.5rem; }

    /* ============================================
       MOBILE SCROLL SNAP: Use proximity instead
       of mandatory to prevent users getting
       "stuck" between sections — especially on
       Android where mandatory conflicts with
       native OS scroll inertia.
       proximity only snaps when the user stops
       within ~30% of a snap point, so it feels
       native and never forced.
    ============================================ */
    body.loaded {
        scroll-snap-type: y proximity;
    }
}

/* --- OFF DAY SYSTEM FOOTER --- */

.mega-footer.system-grid {
    border-top: 2px solid #1a1a1a; /* Thick top border */
    display: grid;
    grid-template-columns: 1.5fr 1fr 1fr 1fr; /* Asymmetric Grid */
    background-color: #f4f4f4; /* Light grey base */
    color: #1a1a1a;
    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
}

/* MODULES (The Box) */
.footer-module {
    padding: 4rem 2rem;
    border-right: 1px solid rgba(0,0,0,0.1); /* Subtle dividers */
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}

.footer-module:last-child {
    border-right: none;
}

/* TYPOGRAPHY */
.footer-logo {
    font-size: 2.5rem;
    line-height: 0.9;
    margin-bottom: 2rem;
    letter-spacing: -1px;
}

.footer-module h4 {
    text-transform: uppercase;
    font-size: 0.75rem;
    letter-spacing: 1px;
    margin-bottom: 1.5rem;
    opacity: 0.6;
}

/* Q1: IDENTITY */
.status-badge {
    font-family: monospace;
    font-size: 0.8rem;
    color: #2ecc71; /* System Green dot */
    text-transform: uppercase;
}

/* Q2: LINKS */
.link-stack {
    list-style: none;
    padding: 0;
    margin: 0 0 2rem 0;
}

.link-stack li { margin-bottom: 0.5rem; }

.link-stack a {
    text-decoration: none;
    color: #1a1a1a;
    font-weight: 700;
    font-size: 1.1rem;
    transition: opacity 0.3s;
}

.link-stack a:hover { opacity: 0.5; }

.est { font-size: 0.85rem; opacity: 0.7; }

/* Q3: INCLUSION (The Hero) */
.access-text {
    font-size: 0.95rem;
    line-height: 1.5;
    margin-bottom: 2rem;
    max-width: 90%;
}

.access-cta {
    display: inline-flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;
    padding: 1rem;
    border: 1px solid #1a1a1a;
    text-decoration: none;
    color: #1a1a1a;
    font-weight: 700;
    text-transform: uppercase;
    font-size: 0.8rem;
    letter-spacing: 1px;
    transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

.access-cta:hover {
    background-color: #1a1a1a;
    color: #fff;
    padding-left: 1.5rem; /* Slide effect */
}

.compliance-tag {
    margin-top: 1rem;
    font-family: monospace;
    font-size: 0.7rem;
    opacity: 0.5;
}

/* Q4: META */
.meta-stack {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    font-size: 0.85rem;
    opacity: 0.7;
}

.tagline {
    margin-top: 1rem;
    font-style: italic;
    opacity: 1;
}

/* RESPONSIVE */
@media (max-width: 1024px) {
    .mega-footer.system-grid {
        grid-template-columns: 1fr 1fr; /* 2x2 Grid */
    }
    .footer-module {
        border-bottom: 1px solid rgba(0,0,0,0.1);
    }
    .footer-module:nth-child(2) { border-right: none; } /* Remove right border on mobile edge */
}

@media (max-width: 768px) {
    .mega-footer.system-grid {
        grid-template-columns: 1fr; /* Stacked */
    }
    .footer-module { border-right: none; padding: 3rem 1.5rem; }
}

/* -------------------
   SENSORY LAYER: THE BREATHING ROOM
---------------------- */

/* The Nav Container */
.nav-right {
    display: flex;
    align-items: center;
    gap: 40px;
}

/* -------------------
   SENSORY LAYER: THE PHYSICAL TOGGLE (UPGRADED)
---------------------- */

/* The Button Container (Frosted Pill + Click Fix) */
#atmosphere-toggle {
    background: rgba(20, 20, 20, 0.6); /* Dark frosted glass ensures high contrast */
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.15);
    border-radius: 30px; /* Surrounds the switch in a premium pill shape */
    padding: 6px 16px 6px 8px; /* Perfect spacing around the track and text */
    display: flex;
    align-items: center;
    gap: 12px;
    cursor: pointer;
    outline: none;
    position: relative; /* Crucial for the pulse */
    pointer-events: auto; /* CRITICAL: Ensures it remains clickable */
    transition: all 0.3s ease;
}

/* THE SONAR PULSE: Draws the eye when atmosphere is OFF */
#atmosphere-toggle::after {
    content: '';
    position: absolute;
    top: -1px; left: -1px;
    width: calc(100% + 2px); 
    height: calc(100% + 2px);
    border-radius: 30px;
    border: 1px solid rgba(255, 255, 255, 0.5);
    animation: toggle-pulse 3s infinite cubic-bezier(0.19, 1, 0.22, 1);
    pointer-events: none; /* So it doesn't block clicks */
}

@keyframes toggle-pulse {
    0%   { transform: scale(1); opacity: 0.8; }
    100% { transform: scale(1.15); opacity: 0; }
}

/* Hide the pulse once the user turns the atmosphere ON */
body.atmosphere-on #atmosphere-toggle::after {
    display: none;
}

/* Make the entire pill glow slightly gold when ON */
body.atmosphere-on #atmosphere-toggle {
    background: rgba(20, 20, 20, 0.8);
    border-color: rgba(212, 175, 55, 0.3);
    box-shadow: 0 0 20px rgba(212, 175, 55, 0.1);
}

/* --- THE SWITCH MECHANICS --- */

/* The Track (The dark groove the switch slides in) */
.toggle-track {
    width: 44px; height: 24px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 20px; position: relative;
    border: 1px solid rgba(255, 255, 255, 0.15);
    box-shadow: inset 0 2px 4px rgba(0,0,0,0.5); 
    transition: background 0.3s ease, border-color 0.3s ease;
}

/* The Thumb (The sliding button) */
.toggle-thumb {
    width: 18px; height: 18px;
    background: var(--cream); border-radius: 50%;
    position: absolute; top: 2px; left: 2px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.3); 
    transition: transform 0.3s cubic-bezier(0.19, 1, 0.22, 1), background 0.3s ease;
}

/* The Text Label */
.toggle-label {
    color: var(--cream); font-family: 'Inter', sans-serif;
    font-size: 0.75rem; letter-spacing: 2px;
    opacity: 0.6; transition: opacity 0.3s ease, color 0.3s ease;
}

/* Hover & Active States for the inner mechanics */
#atmosphere-toggle:hover .toggle-track { border-color: rgba(255, 255, 255, 0.3); }
#atmosphere-toggle:hover .toggle-label { opacity: 0.9; }

body.atmosphere-on .toggle-track {
    background: rgba(212, 175, 55, 0.1); border-color: rgba(212, 175, 55, 0.4);
}
body.atmosphere-on .toggle-thumb {
    transform: translateX(22px); background: var(--gold);
    box-shadow: 0 0 10px rgba(212, 175, 55, 0.4); 
}
body.atmosphere-on .toggle-label { opacity: 1; color: var(--gold); }

/* -------------------
   SENSORY LAYER: THE AUDIO-REACTIVE ROOM 
---------------------- */

#atmosphere-visual {
    position: fixed;
    /* Massive canvas so the shadows can physically pull inward */
    top: -20%; left: -20%; width: 140%; height: 140%; 
    pointer-events: none;
    z-index: 8999; 
    
    /* The Gold Core & The Crushing Shadow */
    background: 
        radial-gradient(circle at 50% 50%, rgba(229, 193, 85, calc(var(--audio-glow, 0) * 0.15)) 0%, transparent 40%),
        radial-gradient(circle at 50% 50%, transparent 20%, rgba(5, 5, 5, 0.98) 75%);
    
    opacity: 0; 
    transition: opacity 2s ease;
    
    /* The physical breath is now driven entirely by the real-time audio file */
    transform: scale(var(--audio-scale, 1));
    will-change: transform, background; /* Hardware acceleration for smooth rendering */
}

/* Turn the layer fully on, letting the JS handle the movement */
body.atmosphere-on #atmosphere-visual {
    opacity: 1; 
    animation: none; 
}

/* --- THE TYPOGRAPHY CONNECTION --- */
/* Makes the main headlines physically glow when the bowl rings */
body.atmosphere-on .headline-reveal,
body.atmosphere-on .manifesto-content h2,
body.atmosphere-on .card-title {
    text-shadow: 0 0 calc(var(--audio-glow, 0) * 25px) rgba(229, 193, 85, calc(var(--audio-glow, 0) * 0.4));
    transition: text-shadow 0.1s ease-out; /* Tiny smooth-out for audio peaks */
}

/* -------------------
   SPA ROUTER: THE DEEP EXHALE TRANSITION
---------------------- */
#page-transition {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background-color: #050505; /* Deep, absolute black */
    z-index: 9998; /* Sits below the loader and nav, above everything else */
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.8s cubic-bezier(0.8, 0, 0.2, 1); /* Slow, heavy breath curve */
}

/* The state triggered by JS when a link is clicked */
body.is-transitioning #page-transition {
    opacity: 1;
    pointer-events: all;
}

/* --- SUBPAGE LAYOUT FIX --- */

/* Targets the first section of informational pages */
.subpage-hero {
    height: auto !important; /* Allow page to grow with content */
    min-height: 100vh;
    justify-content: flex-start !important; /* Start from top, not center */
    padding-top: 160px !important; /* Fixed space for nav */
}

@media (max-width: 768px) {
    .subpage-hero {
        padding-top: 140px !important; /* Adjusted for mobile header height */
        padding-left: 20px !important;
        padding-right: 20px !important;
    }
}

/* ============================================
   WCAG 2.1 — REDUCED MOTION
   SC 2.3.3 (Level AAA): Animation from
   interactions can be disabled.

   This block fires when the user has set
   "Reduce Motion" in their OS accessibility
   settings (macOS, iOS, Windows, Android).

   It disables ALL animation, parallax,
   scroll snapping, and spinning elements
   to protect users with vestibular disorders,
   epilepsy, or motion sensitivity.

   Validate at: wave.webaim.org
============================================ */
@media (prefers-reduced-motion: reduce) {

    /* ------------------------------------------
       1. KILL SCROLL SNAPPING
       Mandatory snapping can feel violent and
       disorientating for motion-sensitive users.
    ------------------------------------------ */
    body.loaded {
        scroll-snap-type: none !important;
    }

    section {
        scroll-snap-align: none !important;
    }

    /* ------------------------------------------
       2. HALT ALL CSS TRANSITIONS & ANIMATIONS
       The !important overrides any inline or
       component-level animation durations.
       0.01ms is effectively instant but avoids
       triggering JS-based animation callbacks
       that check duration === 0.
    ------------------------------------------ */
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        transition-delay: 0ms !important;
    }

    /* ------------------------------------------
       3. FREEZE PARALLAX LAYERS
       The JS parallax gate (in app.js) handles
       the scroll listener, but this CSS rule
       is a belt-and-suspenders fallback that
       freezes any inline transform already
       applied before the JS gate fires.
    ------------------------------------------ */
    [data-speed] {
        transform: none !important;
        will-change: auto !important;
    }

    /* ------------------------------------------
       4. STOP THE SPINNING STAMP RING
       The stamp ring rotates continuously.
       Freeze it in place.
    ------------------------------------------ */
    .stamp-ring {
        animation: none !important;
    }

    /* ------------------------------------------
       5. STOP THE TICKER SCROLL
       Replace the moving ticker with a static
       fade so content is still readable.
    ------------------------------------------ */
    .ticker-track {
        animation: none !important;
        /* Fade slightly so it reads as
           non-interactive in context */
        opacity: 0.7;
    }

    /* ------------------------------------------
       6. STOP THE LOADER LINE
       The loading line animation is cosmetic.
       Snap it to its finished state instantly.
    ------------------------------------------ */
    .loader-line {
        animation: none !important;
        transform: translateX(0) !important;
    }

    /* ------------------------------------------
       7. STOP THE SONAR PULSE ON TOGGLE
    ------------------------------------------ */
    #atmosphere-toggle::after {
        animation: none !important;
        opacity: 0;
    }

    /* ------------------------------------------
       8. STOP THE COHORT PERCENT PULSE
    ------------------------------------------ */
    .cohort-percent {
        animation: none !important;
        opacity: 1 !important;
    }

    /* ------------------------------------------
       9. STOP THE PULSE DOT IN NAV
    ------------------------------------------ */
    .pulse {
        animation: none !important;
        opacity: 1 !important;
    }

    /* ------------------------------------------
       10. STOP THE BUTTON SHIMMER
    ------------------------------------------ */
    .btn-shimmer {
        animation: none !important;
        display: none;
    }

    /* ------------------------------------------
       11. FLATTEN ATMOSPHERE VISUAL
       The audio-reactive vignette layer uses
       JS-driven CSS variables to animate.
       Freeze it.
    ------------------------------------------ */
    #atmosphere-visual {
        transform: none !important;
        transition: none !important;
    }

    /* ------------------------------------------
       12. FREEZE CARD TILT
       The access card has a 3D tilt on hover.
       Remove it for motion-sensitive users.
    ------------------------------------------ */
    .access-card:hover {
        transform: none !important;
    }

    /* ------------------------------------------
       13. STOP THE SUCCESS STATE FADE-IN
    ------------------------------------------ */
    .success-content {
        animation: none !important;
        opacity: 1 !important;
    }

    /* ------------------------------------------
       14. REMOVE BENTO HOVER SCALE
       The bento image scales on hover, which
       can be jarring. Disable the scale while
       keeping the filter and overlay changes
       (which are perceptual, not motion).
    ------------------------------------------ */
    .bento-item:hover .bento-img {
        transform: none !important;
    }

    /* ------------------------------------------
       15. REMOVE TEXT LINK ARROW MOVEMENT
    ------------------------------------------ */
    .text-link:hover .arrow {
        transform: none !important;
    }

}
